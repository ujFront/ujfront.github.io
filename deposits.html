<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Group booking deposits</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <!-- <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet"> -->
  <link href="assets/css/uj_colors.min.css" rel="stylesheet" >
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <!-- <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet"> -->
  <!-- <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet"> -->

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Day
  * Updated: May 30 2023 with Bootstrap v5.3.0
  * Template URL: https://bootstrapmade.com/day-multipurpose-html-template-for-free/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Top Bar ======= -->
  <section id="topbar" class="d-flex align-items-center">
    <div class="container d-flex justify-content-center justify-content-md-between">
      <div class="contact-info d-flex align-items-center">
        <i class="bi bi-envelope-fill"></i><a href="mailto:admin@urbanjungleirc.com">admin@urbanjungleirc.com</a>
        <i class="bi bi-phone-fill phone-icon"></i><a href="tel:+61863970411">(08) 6397 0411</a>
      </div>
      <div class="social-links d-none d-md-block">
        <a href="http://www.facebook.com/urbanjungleirc" class="facebook"><i class="bi bi-facebook"></i></a>
        <a href="https://www.instagram.com/urbanjungleirc" class="instagram"><i class="bi bi-instagram"></i></a>
      </div>
    </div>
  </section>

  <!-- ======= Header ======= -->
  <header id="header" class="d-flex align-items-center">
    <div class="container d-flex align-items-center justify-content-between">

      <h1 class="logo"><a href="https://www.urbanjungleirc.com/" class="logo"><img src="assets/img/UrbanJungle-Logo_trans.png" alt="" class="img-fluid"> Urban Jungle </a><span>IRC</span></h1>
      <!-- Uncomment below if you prefer to use an image logo -->
      

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="scrollto active" href="#hero">Home</a></li>
          <li><a class="scrollto" href="#about">Info</a></li>
          <li><a class="scrollto" href="#payment">Payment</a></li>
          <li><a class="scrollto" href="#contact">Contact</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero" class="d-flex align-items-center">
    <div class="container position-relative" data-aos="fade-up" data-aos-delay="500">
      <h1>Welcome to The Jungle</h1>
      <h2>The only gym in Perth with Bouldering, Speed and Lead climbing</h2>
      <a href="#about" class="btn-get-started scrollto">Pay deposit now</a>
    </div>
  </section><!-- End Hero -->

  <main id="main">

    <!-- ======= About Section ======= -->
    <section id="about" class="about">
      <div class="container">

        <div class="row">
          <div class="col-lg-6 order-1 order-lg-2" data-aos="fade-left">
            <img src="assets/img/about.jpg" class="img-fluid" alt="">
          </div>
          <div class="col-lg-6 pt-4 pt-lg-0 order-2 order-lg-1 content" data-aos="fade-right">
            <h3>Deposits for group events hosted at Urban Jungle IRC.</h3>          
            <p class="text-body-secondary">Please take note of the following important details:</p>
            <ul>
                <li><i class="bi bi-check-circle"></i> You should proceed with the payment only if you have already made a tentative booking and have been specifically instructed to pay the deposit.</li>
                <li><i class="bi bi-check-circle"></i> Making the payment does not guarantee the confirmation of the event, especially if the payment is processed after the due date or if the booking has not been made yet.</li>
                <li><i class="bi bi-check-circle"></i> The $100 deposit will be deducted from the final balance on the day of the event. Please be aware that the handling fee, which is approximately $2.90, is not part off the deposit amount.</li>
                <li><i class="bi bi-check-circle"></i> It's important to note that $50 of the deposit is non-refundable, regardless of any circumstances.</li>
                <li><i class="bi bi-check-circle"></i> The booking confirmation, along with any further details, will be sent to the email address registered with your PayPal account.</li>
                <li><i class="bi bi-check-circle"></i> The transaction is subject to the standard PayPal policies and terms of service.</li>
            </ul>
            <p>
              If you have any further questions or require additional clarification, please do not hesitate to reach out. We are here to assist you.
            </p>
          </div>
        </div>

      </div>
    </section><!-- End About Section -->


    <!-- ======= Clients Section ======= -->
    <section id="clients" class="clients">
      <div class="container" >
      </div>
    </section><!-- End Clients Section -->
    
    <!-- ======= payment Section ======= -->
    <section id="payment" class="payment">
      <div class="container">

        <div class="section-title">
          <span>Deposit</span>
          <h2>Deposit</h2>
          <p>Please fill in your booking details</p>
        </div>

        <div class="row">
          <div class="col-lg-6 order-1 order-lg-2" data-aos="fade-up">
            <div class="alert alert-danger text-center" role="alert" id="warningMassage">
                Ensure to fill out all details before purchase.
            </div>
            <div id="paypal-button-container"></div>
          </div>
          <div class="col-lg-6 pt-4 pt-lg-0 order-2 order-lg-1 content" data-aos="fade-up">
            <form name="orderForm" id="orderForm" class="row mt-3 mx-0 g-3 needs-validation" novalidate>
              <input class="form-control" name="id" type="text" hidden>
              <input class="form-control" name="paid" type="text" hidden>
              <input class="form-control" name="fee" type="text" hidden>
              <input class="form-control" name="email" type="email" hidden>

              <div class="row mb-3">
                  <label for="name" class="col-sm-3 col-form-label">Organiser</label>
                  <div class="col-sm-9">
                      <input name="name" id="name" type="text" class="form-control" placeholder="Name / Company"
                          maxlength="100" required>
                      <div id="nameHelp" class="form-text">Enter your full name or company name under which the
                          tentative booking was made under.</div>
                  </div>
              </div>
              <div class="row mb-3">
                  <label for="vent_date" class="col-sm-3 col-form-label">Event date</label>
                  <div class="col-sm-9">
                      <input type="date" id="event_date" name="event_date" class="form-control" required>
                      <div class="invalid-feedback">
                          Please choose a date in the future.
                      </div>
                  </div>
              </div>
              <div class="row mb-3">
                  <label for="event_time" class="col-sm-3 col-form-label">Booked Time</label>
                  <div class="col-sm-9">
                      <select id="event_time" name="event_time" class="form-select" required>
                          <option value="">Select Time</option>
                          <option value="10.30am">10.30 am</option>
                          <option value="1.00pm">1.00 pm</option>
                          <option value="3.30pm">3.30 pm</option>
                          <option value="other">Other</option>
                      </select>
                  </div>
              </div>
              <select style="visibility: hidden" id="quantitySelect"></select>
          </form>                                
          </div>
        </div>            
      </div>
    </section><!-- End payment Section -->


    <!-- ======= Cta Section ======= -->
    <section id="cta" class="cta">
      <div class="container" data-aos="zoom-in">

        <div class="text-center">
          <h3>First time in the Jungle?</h3>
          <p>Find out more how to get ready for a smooth sailing and successful event.</p>
          <a class="cta-btn" href="https://www.urbanjungleirc.com/firsttime">Find out more</a>
        </div>

      </div>
    </section><!-- End Cta Section -->

    <!-- ======= Contact Section ======= -->
    <section id="contact" class="contact">
      <div class="container">

        <div class="section-title">
          <span>Contact</span>
          <h2>Contact</h2>
        </div>

        <div class="row" data-aos="fade-up">
          <div class="col-lg-6">
            <div class="info-box mb-4">
              <i class="bx bx-map"></i>
              <h3>Our Address</h3>
              <p>83 Solomon Rd, Jandakot WA 6164</p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6">
            <div class="info-box  mb-4">
              <i class="bx bx-envelope"></i>
              <h3>Email Us</h3>
              <p><a href="mailto:admin@urbanjungleirc.com">admin@urbanjungleirc.com</a></p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6">
            <div class="info-box  mb-4">
              <i class="bx bx-phone-call"></i>
              <h3>Call Us</h3>
              <p><a href="tel:+61863970411">(08) 6397 0411</a></p>
            </div>
          </div>

        </div>

        <div class="row" data-aos="fade-up">

          <div class="col-lg-12 ">
            <iframe class="mb-4 mb-lg-0" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3379.114822175818!2d115.86380765812764!3d-32.1202012069698!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2a3297c36f006933%3A0xba34af7afadb8d16!2sUrban%20Jungle%20Indoor%20Rock%20Climbing!5e0!3m2!1sen!2sau!4v1689743780613!5m2!1sen!2sau" frameborder="0" style="border:0; width: 100%; height: 384px;" allowfullscreen></iframe>
          </div>

        </div>

      </div>
    </section><!-- End Contact Section -->

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>Urban Jungle IRC</span></strong>. All Rights Reserved
      </div>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/day-multipurpose-html-template-for-free/ -->
        Designed by <a href="https://bootstrapmade.com/" class="link-light">BootstrapMade</a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <!-- <script src="assets/vendor/php-email-form/validate.js"></script> -->

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

  <!-- PayPay button -->
  <script
  src="https://www.paypal.com/sdk/js?client-id=AdAVYdDfxnQOiy6JRVbg-MEG9bj2QE8hcxTe_Odjwc7Vp-IQSFG4NHd31Q0B7ZGCB8XV29crxXqOW88I&enable-funding=venmo&currency=AUD&locale=en_AU"
  data-sdk-integration-source="button-factory"></script>
<!-- AdAVYdDfxnQOiy6JRVbg-MEG9bj2QE8hcxTe_Odjwc7Vp-IQSFG4NHd31Q0B7ZGCB8XV29crxXqOW88I -->
<!-- sb: Adso4sTVWJuYY1cSvqhhtzgX14KG5vKtESOkv1cptmHOBcNd6jtCKrFE2VPKr66f8pUaVmuBVhYP_Yau -->

<!-- form a pp scripts -->
<script>
  function initPayPalButton() {
      var shipping = 0;
      var quantity = parseInt();
      const promoID = 'deposit';
      var orderDescription = 'event deposit';
      if (orderDescription === '') {
          orderDescription = 'Item';
      }
      paypal.Buttons({
          style: {
              shape: 'rect',
              color: 'gold',
              layout: 'vertical',
              label: 'paypal',
          },

          // onInit is called when the button first renders
          onInit: function (data, actions) {
              // Disable the buttons
              actions.disable();

              const nameInput = document.getElementById('name');
              const dateInput = document.getElementById('event_date');
              const timeInput = document.getElementById('event_time');

              // Add event listeners to each input field
              nameInput.addEventListener('input', validateForm);
              timeInput.addEventListener('input', validateForm);
              dateInput.addEventListener('input', function (event) {
                  const enteredDate = new Date(dateInput.value);
                  const currentDate = new Date();
                  if (enteredDate > currentDate) {
                      // Date is in the future
                      console.log('Date is valid');
                      // Here you can perform additional actions, such as submitting the form
                      dateInput.classList.remove("is-invalid");
                  } else {
                      // Date is not in the future
                      console.log('Date must be in the future');
                      // Optionally, you can display an error message to the user
                      dateInput.classList.add("is-invalid");
                  }
                  validateForm();
              });

              // Function to validate the form
              function validateForm() {

                  // check all fields on class 'is-invalid'
                  const form = document.getElementById('orderForm');
                  const firstInvalidField = form.querySelector('.is-invalid');
                  let isValid = firstInvalidField === null ? true : false;

                  let element = document.getElementById("warningMassage");
                  if (nameInput.checkValidity() && dateInput.checkValidity() && timeInput.checkValidity() && isValid) {
                      actions.enable();
                      element.classList.remove("alert-danger");
                      element.classList.add("alert-light");
                      element.innerText = "Please proceed with the payment below.";
                  } else {
                      actions.disable();
                      element.classList.remove("alert-light");
                      element.classList.add("alert-danger");
                      element.innerText = "Please ensure to fill in all details correctly.";
                  }
              }
          },

          createOrder: function (data, actions) {
              const form = document.forms['orderForm'];
              var selectElement = document.getElementById("event_time");
              var selectedOption = selectElement.options[selectElement.selectedIndex];
              var selectedOptionText = selectedOption.innerText;
              var selectedItemDescription = form.elements["event_date"].value + ' @ ' + selectedOptionText;
              var selectedItemPriceIncludingTax = parseFloat(100); // selectedItemPrice        
              // Assuming the price includes 10% tax, calculating the base price without tax
              var basePrice = selectedItemPriceIncludingTax / 1.1;
              var taxRate = 0.1;
              var taxAmount = selectedItemPriceIncludingTax - basePrice;
              quantity = 1;


              var basePriceTotal = basePrice * quantity;
              var taxTotal = taxAmount * quantity;
              var priceTotal = selectedItemPriceIncludingTax * quantity + parseFloat(shipping);
              var handling =  priceTotal * 0.026 + 0.3;
              priceTotal = priceTotal + handling;
              return actions.order.create({
                  purchase_units: [{
                      description: orderDescription,
                      amount: {
                          currency_code: 'AUD',
                          value: priceTotal.toFixed(2),
                          breakdown: {
                              item_total: {
                                  currency_code: 'AUD',
                                  value: basePriceTotal.toFixed(2),
                              },
                              shipping: {
                                  currency_code: 'AUD',
                                  value: shipping.toFixed(2),
                              },
                              tax_total: {
                                  currency_code: 'AUD',
                                  value: taxTotal.toFixed(2),
                              },
                              handling: {
                                  currency_code: "AUD",
                                  value: handling.toFixed(2),
                              },
                          }
                      },
                      items: [{
                          name: selectedItemDescription,
                          unit_amount: {
                              currency_code: 'AUD',
                              value: basePrice.toFixed(2),
                          },
                          quantity: quantity,
                          category: "PHYSICAL_GOODS"
                      }]
                  }],
                  application_context: {
                      shipping_preference: "NO_SHIPPING" // no shipping option for goods
                  }
              });
          },
          onApprove: function (data, actions) {
              return actions.order.capture().then(function (orderData) {
                  // Full available details
                  console.log('Capture result', orderData, JSON.stringify(orderData, null, 2));
                  document.getElementById("warningMassage").hidden = true;
                  // Show a success message within this page
                  const element = document.getElementById('paypal-button-container');
                  element.innerHTML = '';
                  element.innerHTML = ` <div class="alert alert-success" role="alert">
                                  <h4 class="alert-heading">Thank you, ${orderData.payer.name.given_name}!</h4>
                                  <p>We have received your deposit payment of $${parseFloat(orderData.purchase_units[0].amount.breakdown.item_total.value) + parseFloat(orderData.purchase_units[0].amount.breakdown.tax_total.value)} for the event scheduled on <strong>${orderData.purchase_units[0].items[0].name}</strong>.</p>
                                  <p>Once the booking is confirmed, we will send the booking confirmation and provide further details to your registered email address ${orderData.payer.email_address}.</p>
                                  <hr>
                                  <p>If you have any additional questions or need further assistance, please feel free to contact us.</p>
                                  <p class="mb-0">Thank you for choosing <a href="http://urbanjungleirc.com" class="alert-link">Urban Jungle IRC</a>!</p>
                                  </div>`
                  // form handling
                  const form = document.forms['orderForm'];
                  form.elements["email"].value = orderData.payer.email_address;
                  if (form.elements["name"].value === '') {
                      form.elements["name"].value = orderData.payer.name.given_name + ' ' + orderData.payer.name.surname;
                  }
                  form.elements["id"].value = orderData.id;
                  form.elements["paid"].value = parseFloat(orderData.purchase_units[0].amount.breakdown.item_total.value) + parseFloat(orderData.purchase_units[0].amount.breakdown.tax_total.value);
                  form.elements["fee"].value = orderData.purchase_units[0].amount.breakdown.handling.value;
                  const scriptURL = 'https://script.google.com/macros/s/AKfycbyZlYo_tNjTxxhMQPmVKmuezurH7PlXyAXwE9uC1cYAYh5CaxJJnNbEY3KyQOeqTrPw/exec';
                  fetch(scriptURL, {
                      method: 'POST',
                      body: new FormData(form)
                  })
                      .then(response => console.log('Success!', response))
                      .catch(error => console.error('Error!', error.message));
                  //form.reset();
                  // end of form handling
              });
          },
          onError: function (err) {
              console.log(err);
          },
      }).render('#paypal-button-container');
  }
  initPayPalButton();

</script>



</body>

</html>